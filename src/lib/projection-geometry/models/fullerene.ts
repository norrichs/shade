import { generateTempId } from '$lib/id-handler';
import { defaultCrossSection, secondEdgeCurveConfig } from '../curve-definitions';
import {
	convertXYZtoVertices,
	generatePolygonConfigs,
	type PolygonMapRow
} from '../generate-polyhedra';
import type { PolyhedronConfig_Initial } from '../types';

const FULLERENE_SCALE_FACTOR = 50;

const fullereneXYZString = `-2.43201065 0 -2.60264564
-1.99178147 2.3129797 -1.83612978
-2.81526875 1.17954683 -1.83612978
-1.24024892 -0 -3.33919501
-0.75153261 2.3129797 -2.60264564
-0.38325799 1.17954683 -3.33919501
0.2518498 3.04197955 -1.83612978
1.00338244 0.72899997 -3.33919501
1.58428001 2.6090467 -1.83612978
1.967538 1.42949998 -2.60264564
-3.2077868 1.42949998 0.59588087
-3.4353931 0.72899997 -0.59588087
-2.35079598 2.6090467 0.59588087
-1.754915 3.04197955 -0.59588087
-1.754915 -3.04197955 -0.59588087
0.36827466 -3.49252629 0.59588087
-0.36827466 -3.49252629 -0.59588087
-2.35079598 -2.6090467 0.59588087
-1.58428001 -2.6090467 1.83612978
-0.2518498 -3.04197955 1.83612978
-1.99178147 -2.3129797 -1.83612978
-3.2077868 -1.42949998 0.59588087
-2.81526875 -1.17954683 -1.83612978
-3.4353931 -0.72899997 -0.59588087
2.81526875 1.17954683 1.83612978
3.2077868 1.42949998 -0.59588087
3.4353931 0.72899997 0.59588087
1.99178147 2.3129797 1.83612978
2.35079598 2.6090467 -0.59588087
1.754915 3.04197955 0.59588087
-1.967538 -1.42949998 2.60264564
-2.97092032 -0.70050001 1.83612978
-0.2518498 3.04197955 1.83612978
0.36827466 3.49252629 0.59588087
0.75153261 2.3129797 2.60264564
2.35079598 -2.6090467 -0.59588087
1.967538 -1.42949998 -2.60264564
1.58428001 -2.6090467 -1.83612978
3.2077868 -1.42949998 -0.59588087
2.97092032 -0.70050001 -1.83612978
2.97092032 0.70050001 -1.83612978
-0.36827466 3.49252629 -0.59588087
-2.97092032 0.70050001 1.83612978
-1.58428001 2.6090467 1.83612978
-1.967538 1.42949998 2.60264564
-1.00338244 0.72899997 3.33919501
-1.00338244 -0.72899997 3.33919501
3.4353931 -0.72899997 0.59588087
-0.75153261 -2.3129797 -2.60264564
-0.38325799 -1.17954683 -3.33919501
1.24024892 -0 3.33919501
0.38325799 1.17954683 3.33919501
2.43201065 0 2.60264564
0.75153261 -2.3129797 2.60264564
0.38325799 -1.17954683 3.33919501
1.99178147 -2.3129797 1.83612978
2.81526875 -1.17954683 1.83612978
1.754915 -3.04197955 0.59588087
1.00338244 -0.72899997 -3.33919501
0.2518498 -3.04197955 -1.83612978`;

const vertices = convertXYZtoVertices(fullereneXYZString, FULLERENE_SCALE_FACTOR);

const polygonMap: PolygonMapRow[] = [
	{
		polygonType: 'pentagon', // purple
		count: 1,
		sequence: [
			[0, 0],
			[0, 1],
			[0, 2],
			[0, 3],
			[0, 4]
		]
	},
	{
		polygonType: 'hexagon', // blue
		count: 5,
		sequence: [
			[0, 0],
			[0, 1],
			[1, 1],
			[2, 1],
			[2, 0],
			[1, 0]
		]
	},
	{
		polygonType: 'pentagon', //teal
		count: 5,
		sequence: [
			[1, 0],
			[2, 0],
			[3, 0],
			[3, -1],
			[2, -1]
		]
	},

	{
		polygonType: 'hexagon', // green
		count: 5,
		sequence: [
			[2, 0],
			[2, 1],
			[3, 1],
			[4, 1],
			[4, 0],
			[3, 0]
		]
	},
	{
		polygonType: 'hexagon', // yellow
		count: 5,
		sequence: [
			[3, 0],
			[4, 0],
			[5, 0],
			[5, -1],
			[4, -1],
			[3, -1]
		]
	},
	{
		polygonType: 'pentagon', // orange
		count: 5,
		sequence: [
			[4, 0],
			[4, 1],
			[5, 1],
			[6, 0],
			[5, 0]
		]
	},
	{
		polygonType: 'hexagon', // red
		count: 5,
		sequence: [
			[5, 0],
			[6, 0],
			[7, 0],
			[7, -1],
			[6, -1],
			[5, -1]
		]
	},
	{
		polygonType: 'pentagon', // dark red
		count: 1,
		sequence: [
			[7, 0],
			[7, 1],
			[7, 2],
			[7, 3],
			[7, 4]
		]
	}
];
const levelStartIndices = [0, 5, 10, 20, 30, 40, 50, 55];
const levelCounts = [5, 5, 10, 10, 10, 10, 5, 5];

const fullerene: PolyhedronConfig_Initial = {
	name: 'Fullerene',
	id: generateTempId('cfg'),
	polygons: generatePolygonConfigs({ vertices, polygonMap }),
	crossSectionCurves: [defaultCrossSection],
	edgeCurves: [secondEdgeCurveConfig],
	vertices,
	transform: 'inherit'
};

export default fullerene;
