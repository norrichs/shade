import { generateTempId } from '$lib/id-handler';
import { defaultCrossSection, secondEdgeCurveConfig } from '../curve-definitions';
import {
	convertXYZtoVertices,
	generatePolygonConfigs,
	type PolygonMapRow
} from '../generate-polyhedra';
import type { CurveIndex, PolyhedronConfig, VertexIndex } from '../types';

const truncatedDodecahedronXYZString = `-130.90170288 4.59736729 138.91818237
-130.90170288 -4.59736729 114.84605408
-112.34380341 6.11704111 58.74468231
-112.34380341 49.98432922 173.59072876
-99.45960236 22.75047302 43.8672905
-69.43228912 74.75930023 43.8672905
-99.45960236 72.30042267 173.59072876
-61.46941376 94.23406219 58.74468231
-69.43228912 111.06551361 138.91818237
-61.46941376 115.66287994 114.84605408
130.90170288 -4.59736729 114.84605408
112.34380341 -49.98432922 80.17350006
112.34380341 6.11704111 58.74468231
-50.87438583 100.35110474 195.01954651
-112.34380341 -6.11704111 195.01954651
-50.87438583 -29.37234116 244.56950378
-30.02731323 -17.33627701 253.76423645
0 58.74468231 244.56950378
0 34.67255402 253.76423645
-50.87438583 29.37234116 9.19473457
-30.02731323 17.33627701 -0
-12.8842001 122.28475189 80.17350006
30.02731323 17.33627701 -0
12.8842001 122.28475189 80.17350006
61.46941376 94.23406219 58.74468231
50.87438583 29.37234116 9.19473457
69.43228912 74.75930023 43.8672905
61.46941376 -94.23406219 195.01954651
12.8842001 -122.28475189 173.59072876
61.46941376 -115.66287994 138.91818237
30.02731323 -17.33627701 253.76423645
50.87438583 100.35110474 195.01954651
50.87438583 -29.37234116 244.56950378
99.45960236 72.30042267 173.59072876
112.34380341 49.98432922 173.59072876
112.34380341 -6.11704111 195.01954651
130.90170288 4.59736729 138.91818237
99.45960236 22.75047302 43.8672905
69.43228912 111.06551361 138.91818237
61.46941376 115.66287994 114.84605408
-99.45960236 -72.30042267 80.17350006
-112.34380341 -49.98432922 80.17350006
-50.87438583 -100.35110474 58.74468231
-30.02731323 -97.50977325 43.8672905
-0 -34.67255402 0
-0 -58.74468231 9.19473457
99.45960236 -72.30042267 80.17350006
50.87438583 -100.35110474 58.74468231
69.43228912 -111.06551361 114.84605408
30.02731323 -97.50977325 43.8672905
-69.43228912 -111.06551361 114.84605408
-61.46941376 -115.66287994 138.91818237
-12.8842001 -122.28475189 173.59072876
-61.46941376 -94.23406219 195.01954651
-99.45960236 -22.75047302 209.89694214
-69.43228912 -74.75930023 209.89694214
-30.02731323 97.50977325 209.89694214
30.02731323 97.50977325 209.89694214
69.43228912 -74.75930023 209.89694214
99.45960236 -22.75047302 209.89694214`;

const backup = `-130.90170288 4.59736729 138.91818237
-121.62274933 0.75983697 86.79536438
-130.90170288 -4.59736729 114.84605408
-112.34380341 6.11704111 58.74468231
-112.34380341 49.98432922 173.59072876
-99.45960236 22.75047302 43.8672905
-69.43228912 74.75930023 43.8672905
-99.45960236 72.30042267 173.59072876
-84.44594574 91.68296814 156.25445557
-61.46941376 94.23406219 58.74468231
-69.43228912 111.06551361 138.91818237
-61.46941376 115.66287994 114.84605408
112.34380341 -21.93364525 69.45909119
130.90170288 -4.59736729 114.84605408
112.34380341 -49.98432922 80.17350006
112.34380341 6.11704111 58.74468231
-60.15333557 105.70831299 166.96887207
-50.87438583 100.35110474 195.01954651
-112.34380341 -6.11704111 195.01954651
-50.87438583 -29.37234116 244.56950378
-30.02731323 -17.33627701 253.76423645
0 58.74468231 244.56950378
0 34.67255402 253.76423645
-60.15333557 52.0658226 26.53101158
-37.1768074 108.25940704 69.45909119
-50.87438583 29.37234116 9.19473457
-30.02731323 17.33627701 -0
-12.8842001 122.28475189 80.17350006
30.02731323 17.33627701 -0
12.8842001 122.28475189 80.17350006
61.46941376 94.23406219 58.74468231
50.87438583 29.37234116 9.19473457
60.15333557 52.0658226 26.53101158
69.43228912 74.75930023 43.8672905
61.46941376 -94.23406219 195.01954651
12.8842001 -122.28475189 173.59072876
61.46941376 -115.66287994 138.91818237
30.02731323 -17.33627701 253.76423645
50.87438583 100.35110474 195.01954651
50.87438583 -29.37234116 244.56950378
99.45960236 72.30042267 173.59072876
112.34380341 49.98432922 173.59072876
112.34380341 -6.11704111 195.01954651
130.90170288 4.59736729 138.91818237
121.62274933 27.29084778 156.25445557
99.45960236 22.75047302 43.8672905
69.43228912 111.06551361 138.91818237
61.46941376 104.94847107 86.79536438
61.46941376 115.66287994 114.84605408
121.62274933 -0.75983697 166.96887207
-99.45960236 -72.30042267 80.17350006
-112.34380341 -49.98432922 80.17350006
-50.87438583 -100.35110474 58.74468231
-75.16699219 26.06140709 26.53101158
-30.02731323 -97.50977325 43.8672905
-0 -34.67255402 0
-15.01365662 -78.12722778 26.53101158
-0 -58.74468231 9.19473457
99.45960236 -72.30042267 80.17350006
60.15333557 -105.70831299 86.79536438
50.87438583 -100.35110474 58.74468231
69.43228912 -111.06551361 114.84605408
15.01365662 -78.12722778 26.53101158
30.02731323 -97.50977325 43.8672905
75.16699219 26.06140709 26.53101158

-99.45960236 -22.75047302 209.89694214
-69.43228912 -74.75930023 209.89694214
-30.02731323 97.50977325 209.89694214
30.02731323 97.50977325 209.89694214
69.43228912 -74.75930023 209.89694214
99.45960236 -22.75047302 209.89694214

-0 97.50977325 209.89694214
84.44594574 -48.75488663 209.89694214
-69.43228912 -111.06551361 114.84605408
-61.46941376 -115.66287994 138.91818237
-12.8842001 -122.28475189 173.59072876
-61.46941376 -94.23406219 195.01954651`;
const vertices = convertXYZtoVertices(truncatedDodecahedronXYZString, 1, true);

const polygonMap: PolygonMapRow[] = [
	{
		polygonType: 'triangle',
		count: 1,
		sequence: [
			[0, 0],
			[0, 1],
			[0, 2]
		]
	},
	{
		polygonType: 'decagon', //purple
		count: 3,
		sequence: [
			[0, 0],
			[0, 1],
			[1, 1],
			[2, 2],
			[3, 2],
			[4, 3],
			[4, 2],
			[3, 1],
			[2, 1],
			[1, 0]
		]
	},
	{
		polygonType: 'triangle', //blue
		count: 3,
		sequence: [
			[1, 0],
			[2, 0],
			[2, 1]
		]
	},
	{
		polygonType: 'decagon', //green
		count: 3,
		sequence: [
			[2, 0],
			[3, 0],
			[5, 1],
			[6, 0],
			[7, 0],
			[7, 1],
			[6, 1],
			[5, 2],
			[3, 1],
			[2, 1]
		]
	},
	{
		polygonType: 'triangle', //teal  TODO: this is duplicating the first three rather than spreading to all six
		count: 6,
		sequence: [
			[3, 0],
			[4, 1],
			[5, 1]
		]
	},
	{
		polygonType: 'decagon', //yellow
		count: 3,
		sequence: [
			[4, 0],
			[4, 1],
			[5, 1],
			[6, 0],
			[8, 1],
			[9, 1],
			[9, 0],
			[8, 0],
			[6, -1],
			[5, 0]
		]
	},
	{
		polygonType: 'triangle', //light green TODO: this is duplicating the first three rather than spreading to all six
		count: 6,
		sequence: [
			[6, 0],
			[8, 1],
			[7, 0]
		]
	},
	{
		polygonType: 'decagon', //red
		count: 3,
		sequence: [
			[7, 1],
			[7, 0],
			[8, 1],
			[9, 1],
			[10, 0],
			[11, 0],
			[11, 1],
			[10, 1],
			[9, 2],
			[8, 2]
		]
	},
	{
		polygonType: 'triangle', //orange
		count: 3,
		sequence: [
			[9, 0],
			[9, 1],
			[10, 0]
		]
	},
	{
		polygonType: 'triangle', //dark red
		count: 1,
		sequence: [
			[11, 0],
			[11, 1],
			[11, 2]
		]
	}
];

const truncatedDodecahedron: PolyhedronConfig<undefined, VertexIndex, CurveIndex, CurveIndex> = {
	name: 'Truncated Dodecahedron',
	id: generateTempId('cfg'),
	polygons: generatePolygonConfigs({ vertices, polygonMap, radialSymmetry: 3 }),
	crossSectionCurves: [defaultCrossSection],
	edgeCurves: [secondEdgeCurveConfig],
	vertices,
	transform: 'inherit'
};

export default truncatedDodecahedron;
